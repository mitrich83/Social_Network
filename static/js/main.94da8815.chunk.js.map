{"version":3,"sources":["api/api.ts","components/Navbar/Navbar.module.css","components/common/preloader/Fidget-spinner.gif","components/common/preloader/Preloader.tsx","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","Redux/profile-reducer.ts","Redux/dialogs-reducer.ts","components/Users/Users.module.css","components/Navbar/Navbar.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","Redux/users-reducer.ts","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/images/userPhoto.jpg","components/Users/Users.tsx","Redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","Redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","Redux/app-reducer.ts","hoc/withSuspence.tsx","components/login/LoginForm.tsx","components/login/Login.tsx","App.tsx","reportWebVitals.ts","Redux/redux-store.ts","index.tsx"],"names":["instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","res","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","module","exports","Preloader","src","preloader","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","initialState","posts","id","v1","message","likesCount","profile","photos","large","small","addPostActionCreator","newMessageTextarea","type","getUserProfile","dispatch","a","getUserStatus","updateUserStatus","getState","auth","resultCode","profileReducer","state","action","text","trim","newPost","filter","p","ADD_MESSAGE","dialogs","name","messages","AddMessageActionCreator","dialogsReducer","newMessage","Navbar","className","s","nav","item","to","activeClassName","activeLink","News","Music","Settings","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_CURRENT_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","portionSize","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","payload","toggleIsFetching","toggleIsFollowingProgress","followUnfollow","apiMethod","actionCreator","usersReducer","map","u","followed","Paginator","React","memo","totalItemsCount","onPageChanged","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","cn","selectedPage","pageNumber","e","User","user","usersPhoto","disabled","some","Users","usersPage","getUsersSuperSelector","createSelector","getPageSize","getPortionSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","props","requestUsers","this","Component","compose","connect","bind","items","totalCount","Header","isAuth","header","alt","loginBlock","SET_USERS_DATA","SET_ERROR_DATA","InitialState","messageError","setAuthUserDataAC","setMessagesLogin","getAuthUserData","authReducer","HeaderContainer","SET_INITIALIZED","initialized","appReducer","withSuspence","Suspense","fallback","LoginForm","useDispatch","useSelector","formik","useFormik","initialValues","validate","values","errors","test","length","onSubmit","resetForm","handleSubmit","placeholder","getFieldProps","touched","style","color","checked","Login","log","DialogsContainer","lazy","ProfileContainer","App","initialiseAppTC","path","render","withRouter","app","promise","Promise","all","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","profilePage","dialogsPage","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.94da8815.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        'API-key': 'eccbb3eb-58c4-4ed7-895f-7ce56bc6ba31'\r\n    }\r\n\r\n})\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n          .then(res => res.data)\r\n    },\r\n    follow(userId: number) {\r\n        debugger\r\n        return instance.post<ResponseType>(`follow/${userId}`, {}).then(res => res.data)\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete<ResponseType>(`follow/${userId}`).then(res => res.data)\r\n    },\r\n    getProfile(userId: string) {\r\n        console.warn('Obsolete method. Please use profileApi method')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: string) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId: string) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status`, {status});\r\n    },\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email: string|null, password: string|null, rememberMe: boolean=false) {\r\n        return instance.post('auth/login', {email, password, rememberMe}).then(res => res.data)\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login').then(res => res.data)\r\n    },\r\n}\r\n\r\nexport type ResponseType<D = {}> = {\r\n    resultCode: number\r\n    messages: Array<string>\r\n    fieldsErrors: Array<string>\r\n    data: D\r\n}\r\n\r\nexport type UnfollowFollowResponseType = {\r\n    data: Object\r\n    fieldsErrors: []\r\n    messages: []\r\n    resultCode: number\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2y0cs\",\"item\":\"Navbar_item__3nHyb\",\"activeLink\":\"Navbar_activeLink__3Hi7u\"};","export default __webpack_public_path__ + \"static/media/Fidget-spinner.29181c59.gif\";","import React from 'react';\r\nimport preloader from './Fidget-spinner.gif';\r\n\r\nexport const Preloader = () => {\r\n    return <>\r\n        <img src={preloader}/>\r\n    </>\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3rMUU\",\"pageNumber\":\"Paginator_pageNumber__2b95S\",\"selectedPage\":\"Paginator_selectedPage__2DAUv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3-BC3\",\"loginBlock\":\"Header_loginBlock__3Vaj3\"};","import {v1} from 'uuid';\r\nimport {profileAPI, usersAPI} from '../api/api';\r\nimport {Dispatch} from 'redux';\r\nimport {ThunkDispatch} from 'redux-thunk';\r\nimport {AppStateType} from './redux-store';\r\n\r\n\r\nconst ADD_POST = 'PROFILE/ADD-POST'\r\nconst SET_USER_PROFILE = 'PROFILE/SET-USER-PROFILE'\r\nconst SET_STATUS = 'PROFILE/SET-STATUS'\r\nconst DELETE_POST = 'PROFILE/DELETE_POST'\r\n\r\n//types\r\nexport type PostType = {\r\n    message: string\r\n    image?: string\r\n    id: string\r\n    likesCount: number\r\n}\r\nexport type ProfileDataType = {\r\n    posts: Array<PostType>\r\n    profile: ProfileType\r\n    status: string\r\n}\r\nexport type ProfileType = {\r\n    userId: number\r\n    aboutMe: string,\r\n    contacts: {\r\n        facebook: string,\r\n        website: null,\r\n        vk: string,\r\n        twitter: string,\r\n        instagram: string,\r\n        youtube: string,\r\n        github: string,\r\n        mainLink: null\r\n    },\r\n    lookingForAJob: boolean,\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    photos: {\r\n        large: string\r\n        small: string\r\n    }\r\n}\r\n\r\nexport type ActionProfileTypes =\r\n    ReturnType<typeof addPostActionCreator> |\r\n    ReturnType<typeof setUserProfile> |\r\n    ReturnType<typeof setStatus> |\r\n    ReturnType<typeof deletePost>\r\n\r\nconst initialState: ProfileDataType = {\r\n    posts: [\r\n        {id: v1(), message: 'Hi', likesCount: 12},\r\n        {id: v1(), message: 'How are you', likesCount: 10},\r\n    ],\r\n    profile: {\r\n        photos: {\r\n            large: '',\r\n            small: ''\r\n        }\r\n    } as ProfileType,\r\n    status: '',\r\n}\r\n// reducer\r\nconst profileReducer = (state: ProfileDataType = initialState, action: ActionProfileTypes): ProfileDataType => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let text = action.newMessageTextarea.trim()\r\n            if (text === '') return state\r\n            const newPost: PostType = {\r\n                id: v1(),\r\n                message: text,\r\n                likesCount: 0\r\n            }\r\n            return (\r\n                {\r\n                    ...state,\r\n                    posts: [newPost, ...state.posts]\r\n                }\r\n            )\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state, posts: state.posts.filter(p => p.message !== action.message)\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n// actions\r\nexport const addPostActionCreator = (newMessageTextarea: string) => ({type: ADD_POST, newMessageTextarea} as const)\r\nexport const setStatus = (status: string) => ({type: SET_STATUS, status} as const)\r\nexport const setUserProfile = (profile: ProfileType) => ({type: SET_USER_PROFILE, profile} as const)\r\nexport const deletePost = (message: string) => ({type: DELETE_POST, message} as const)\r\n\r\n\r\n// thunks\r\nexport const getUserProfile = (userId: string) =>\r\n    async (dispatch: Dispatch<ActionProfileTypes>) => {\r\n        const res = await usersAPI.getProfile(userId)\r\n        dispatch(setUserProfile(res.data));\r\n    }\r\nexport const getUserStatus = (userId: string) =>\r\n    async (dispatch: Dispatch<ActionProfileTypes>) => {\r\n        const res = await profileAPI.getStatus(userId)\r\n        dispatch(setStatus(res.data));\r\n\r\n    }\r\nexport const updateUserStatus = (status: string) =>\r\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionProfileTypes>,\r\n           getState: () => AppStateType) => {\r\n        const userId = getState().auth.userId\r\n        const res = await profileAPI.updateStatus(status)\r\n        if (res.data.resultCode === 0) {\r\n            if (userId) {\r\n                dispatch(getUserStatus(userId))\r\n            }\r\n        }\r\n    }\r\n\r\nexport default profileReducer","import React from 'react';\r\nimport {v1} from 'uuid';\r\n\r\nconst ADD_MESSAGE = 'ADD-MESSAGE'\r\nconst CHANGE_TEXTAREA_DIALOGS = 'CHANGE-TEXTAREA-DIALOGS'\r\n\r\nexport type DialogItemType = {\r\n    name: string,\r\n    id: string\r\n}\r\nexport type MessageItemType = {\r\n    message: string\r\n    id: string\r\n}\r\n\r\nexport type DialogsPageDataType = {\r\n    dialogs: Array<DialogItemType>\r\n    messages: Array<MessageItemType>\r\n}\r\n\r\nexport type ActionDialogsTypes =\r\n    ReturnType<typeof AddMessageActionCreator>\r\n\r\nconst initialState: DialogsPageDataType = {\r\n    dialogs: [\r\n        {id: v1(), name: 'Dimych'},\r\n        {id: v1(), name: 'Andrey'},\r\n        {id: v1(), name: 'Artem'},\r\n        {id: v1(), name: 'Sveta'},\r\n        {id: v1(), name: 'Yulia'},\r\n        {id: v1(), name: 'Sasha'},\r\n    ],\r\n    messages: [\r\n        {id: v1(), message: 'Hi'},\r\n        {id: v1(), message: 'How'},\r\n        {id: v1(), message: 'How are you'},\r\n        {id: v1(), message: 'yo'},\r\n        {id: v1(), message: 'yo'},\r\n        {id: v1(), message: 'yo'},\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state: DialogsPageDataType = initialState, action: ActionDialogsTypes): DialogsPageDataType => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            const text = action.newMessageTextarea.trim()\r\n            if (text === '') return state\r\n            const newMessage: MessageItemType = {\r\n                id: v1(),\r\n                message: action.newMessageTextarea.trim()\r\n            }\r\n            return (\r\n                {\r\n                    ...state,\r\n                    messages: [...state.messages, newMessage]\r\n                }\r\n            );\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const AddMessageActionCreator = (newMessageTextarea:string) => ({type: 'ADD-MESSAGE', newMessageTextarea} as const)\r\n\r\nexport default dialogsReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__JnTDw\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Navbar.module.css'\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Dialogs</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/news\" activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/music\" activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/settings\" activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport s from './News.module.css';\r\n\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;\r\n","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;\r\n","import React from 'react';\r\nimport s from './Settings.module.css';\r\n\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;\r\n","import {UnfollowFollowResponseType, usersAPI} from '../api/api';\r\nimport {Dispatch} from 'redux';\r\n\r\n\r\nconst FOLLOW = 'USERS/FOLLOW'\r\nconst UNFOLLOW = 'USERS/UNFOLLOW'\r\nconst SET_USERS = 'USERS/SET_USERS'\r\nconst SET_CURRENT_PAGE = 'USERS/SET-CURRENT-PAGE'\r\nconst SET_TOTAL_CURRENT_USERS_COUNT = 'USERS/SET-TOTAL-CURRENT-USERS-COUNT'\r\nconst TOGGLE_IS_FETCHING = 'USERS/TOGGLE-IS-FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'USERS/TOGGLE-IS-FOLLOWING-PROGRESS'\r\n\r\n\r\nconst initialState: UsersDataType = {\r\n    users: [],\r\n    pageSize: 20,\r\n    portionSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [] as Array<number>,\r\n}\r\n\r\nconst usersReducer = (state: UsersDataType = initialState, action: ActionCreatorTypes): UsersDataType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => u.id === action.userId ? {...u, followed: true} : u)\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => u.id === action.userId ? {...u, followed: false} : u)\r\n            }\r\n        case SET_USERS:\r\n        case SET_CURRENT_PAGE:\r\n        case SET_TOTAL_CURRENT_USERS_COUNT:\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, ...action.payload}\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// actions\r\nexport const followSuccess = (userId: number) => ({type: FOLLOW, userId} as const)\r\nexport const unfollowSuccess = (userId: number) => ({type: UNFOLLOW, userId} as const)\r\nexport const setUsers = (users: UserType[]) => ({type: SET_USERS, payload:{users}} as const)\r\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, payload:{currentPage}} as const)\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({\r\n    type: SET_TOTAL_CURRENT_USERS_COUNT,\r\n    payload:{totalUsersCount}\r\n} as const)\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, payload:{isFetching}} as const)\r\nexport const toggleIsFollowingProgress = (isFetching: boolean, userId: number) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n} as const)\r\n\r\n// thunks\r\nexport const requestUsers = (currentPage: number, pageSize: number) => {\r\n    return async (dispatch: Dispatch<ActionCreatorTypes>) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(currentPage))\r\n        const data = await usersAPI.getUsers(currentPage, pageSize)\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollow = async (dispatch: Dispatch<ActionCreatorTypes>,\r\n                              userId: number,\r\n                              apiMethod: (userId: number) => Promise<any>,\r\n                              actionCreator: (userId: number) => ActionCreatorTypes) => {\r\n    dispatch(toggleIsFollowingProgress(true, userId))\r\n    const res = await apiMethod(userId)\r\n    if (res.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId: number) => async (dispatch: Dispatch<ActionCreatorTypes>) => {\r\n        let apiMethod = await usersAPI.follow.bind(usersAPI)\r\n        followUnfollow(dispatch, userId, apiMethod, followSuccess)\r\n    }\r\n\r\nexport const unfollow = (userId: number) => {\r\n    return async (dispatch: Dispatch<ActionCreatorTypes>) => {\r\n        let apiMethod = await usersAPI.unfollow.bind(usersAPI)\r\n        followUnfollow(dispatch, userId, apiMethod, unfollowSuccess)\r\n    }\r\n}\r\n\r\nexport default usersReducer\r\n\r\n// types\r\nexport type UserType = {\r\n    name: string,\r\n    id: number,\r\n    uniqueUrlName: null | string,\r\n    photos: {\r\n        small: null | string,\r\n        large: null | string\r\n    },\r\n    status: null | string,\r\n    followed: boolean\r\n}\r\n\r\nexport type UsersDataType = {\r\n    users: UserType[],\r\n    pageSize: number,\r\n    portionSize: number\r\n    totalUsersCount: number,\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n}\r\n\r\ntype FollowSuccessType = ReturnType<typeof followSuccess>\r\ntype UnfollowSuccessType = ReturnType<typeof unfollowSuccess>\r\ntype SetUsersType = ReturnType<typeof setUsers>\r\ntype SetCurrentPageType = ReturnType<typeof setCurrentPage>\r\ntype SetTotalUsersCountType = ReturnType<typeof setTotalUsersCount>\r\ntype ToggleIsFetchingType = ReturnType<typeof toggleIsFetching>\r\ntype ToggleIsFollowingProgressType = ReturnType<typeof toggleIsFollowingProgress>\r\n\r\nexport type ActionCreatorTypes =\r\n    FollowSuccessType |\r\n    UnfollowSuccessType |\r\n    SetUsersType |\r\n    SetCurrentPageType |\r\n    SetTotalUsersCountType |\r\n    ToggleIsFetchingType|\r\n    ToggleIsFollowingProgressType","import React, {useState} from 'react';\r\nimport s from './Paginator.module.css'\r\nimport cn from \"classnames\"\r\n\r\n\r\ntype PaginatorPropsType = {\r\n    pageSize: number\r\n    portionSize: number\r\n    totalItemsCount: number\r\n    currentPage: 1 | number\r\n    onPageChanged: (pageNumber: number) => void\r\n}\r\n\r\nexport const Paginator = React.memo(({\r\n                                         totalItemsCount,\r\n                                         currentPage,\r\n                                         onPageChanged,\r\n                                         pageSize,\r\n                                         portionSize,\r\n                                         ...props\r\n                                     }: PaginatorPropsType) => {\r\n        const pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n        const pages = []\r\n        for (let i = 1; i <= pagesCount; i++) {\r\n            pages.push(i)\r\n        }\r\n        const portionCount = Math.ceil(pagesCount / portionSize)\r\n        const [portionNumber, setPortionNumber] = useState(1)\r\n        const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n        const rightPortionPageNumber = portionNumber * portionSize\r\n\r\n        return (\r\n            <div className={s.paginator}>\r\n                {portionNumber > 1 &&\r\n                <button onClick={() => {\r\n                    setPortionNumber(portionNumber - 1)\r\n                }}>Prev</button>}\r\n                {pages\r\n                    .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                    .map((p) => {\r\n                        return <span className={ cn ({\r\n                            [s.selectedPage]:currentPage === p}, s.pageNumber) }\r\n                            // (currentPage === p) ? s.selectedPage : ''\r\n\r\n                                     key={p}\r\n                                     onClick={(e) => {\r\n                                         onPageChanged(p)\r\n                                     }}> {p}</span>\r\n                    })}\r\n                {portionCount > portionNumber &&\r\n                <button onClick={() => {\r\n                    setPortionNumber(portionNumber + 1)\r\n                }}>Next</button>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n)","import React from 'react';\r\nimport {UserType} from '../../Redux/users-reducer';\r\nimport s from './Users.module.css'\r\nimport userPhoto from './images/userPhoto.jpg'\r\nimport {NavLink} from 'react-router-dom';\r\n\r\ntype UsersPropsType = {\r\n    user: UserType\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    followingInProgress: Array<number>,\r\n}\r\n\r\nexport const User = (\r\n    {\r\n        user,\r\n        unfollow,\r\n        follow,\r\n        followingInProgress,\r\n        ...props}:UsersPropsType) => {\r\n\r\n    return (\r\n          <div>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={'/profile/' + user.id}>\r\n                            <img className={s.usersPhoto}\r\n                                 src={user.photos.small !== null\r\n                                     ? user.photos.small\r\n                                     : userPhoto}\r\n                            />\r\n                            </NavLink>\r\n                        </div>\r\n                         <div>\r\n                             {user.followed\r\n                                 ? <button\r\n                                     disabled={followingInProgress.some(id => id === user.id)}\r\n                                     onClick={() => {\r\n                                         unfollow(user.id)\r\n                                     }}>Unfollow</button>\r\n\r\n                                 : <button\r\n                                     disabled={followingInProgress.some(id => id === user.id)}\r\n                                     onClick={() => {\r\n                                         follow(user.id)\r\n                                     }}>Follow</button>\r\n                             }\r\n                                 </div>\r\n                                 </span>\r\n                    <span>\r\n                                 <span>\r\n                                 <div>{user.name}</div>\r\n                                 <div>{user.status}</div>\r\n                                 </span>\r\n                                 <span>\r\n                                 <div>{'u.location.country'}</div>\r\n                                 <div>{'u.location.city'}</div>\r\n                                 </span>\r\n                                 </span>\r\n                </div>)\r\n}\r\n\r\n\r\n","export default \"data:image/jpeg;base64,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\"","import React from 'react';\r\nimport {UsersDataType} from '../../Redux/users-reducer';\r\nimport {Paginator} from '../common/Paginator/Paginator';\r\nimport {User} from './User';\r\n\r\ntype UsersPropsType = {\r\n    usersPage: UsersDataType,\r\n    pageSize: number\r\n    portionSize: number\r\n    totalItemsCount: number\r\n    currentPage: 1 | number\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    onPageChanged: (pageNumber: number) => void\r\n    followingInProgress: Array<number>,\r\n}\r\n\r\nexport const Users = (\r\n    {\r\n        totalItemsCount,\r\n        pageSize,\r\n        portionSize,\r\n        usersPage,\r\n        currentPage,\r\n        onPageChanged,\r\n        unfollow,\r\n        follow,\r\n        followingInProgress,\r\n        ...props\r\n    }: UsersPropsType) => {\r\n\r\n    return (\r\n        <div>\r\n            <Paginator\r\n                currentPage={currentPage}\r\n                onPageChanged={onPageChanged}\r\n                pageSize={pageSize}\r\n                totalItemsCount={totalItemsCount}\r\n                portionSize={portionSize}\r\n            />\r\n            <div>\r\n                {\r\n                    usersPage.users.map(u => <User key={u.id}\r\n                                                   user={u}\r\n                                                   followingInProgress={followingInProgress}\r\n                                                   follow={follow}\r\n                                                   unfollow={unfollow}\r\n                        />\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import {AppStateType} from './redux-store';\r\nimport {createSelector} from 'reselect';\r\n\r\nexport const getUsers = (state: AppStateType)=> {\r\n    return state.usersPage\r\n}\r\nexport const getUsersSuperSelector = createSelector(getUsers,(users)=> {\r\n    return users\r\n})\r\n\r\n\r\nexport const getUsersPage = (state: AppStateType)=> {\r\n    return state.usersPage\r\n}\r\nexport const getPageSize = (state: AppStateType)=> {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getPortionSize = (state: AppStateType)=> {\r\n    return state.usersPage.portionSize\r\n}\r\nexport const getTotalUsersCount = (state: AppStateType)=> {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state: AppStateType)=> {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: AppStateType)=> {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state: AppStateType)=> {\r\n    return state.usersPage.followingInProgress\r\n}\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {AppStateType} from '../../Redux/redux-store';\r\nimport {\r\n    follow,\r\n    requestUsers,\r\n    setCurrentPage,\r\n    toggleIsFollowingProgress, unfollow,\r\n        UsersDataType,\r\n} from '../../Redux/users-reducer';\r\nimport {Users} from './Users';\r\nimport {Preloader} from '../common/preloader/Preloader';\r\nimport {compose} from 'redux';\r\nimport {\r\n    getCurrentPage, getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize, getPortionSize,\r\n    getTotalUsersCount,\r\n    getUsersSuperSelector\r\n} from '../../Redux/users-selectors';\r\n\r\ntype UsersPropsType = mapStateToPropsType & mapDispatchToPropsType\r\n\r\ntype mapStateToPropsType = {\r\n    usersPage: UsersDataType,\r\n    pageSize: number,\r\n    portionSize: number\r\n    totalItemsCount: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    followingInProgress: Array<number>,\r\n}\r\ntype mapDispatchToPropsType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    setCurrentPage: (pageNumber: number) => void\r\n    toggleIsFollowingProgress: (isFetching: boolean, userId: number) => void\r\n    requestUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\nclass UsersContainer extends React.Component<UsersPropsType> {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.requestUsers(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        const {pageSize} = this.props\r\n        this.props.requestUsers(pageNumber, pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : ''}\r\n            <Users\r\n                totalItemsCount={this.props.totalItemsCount}\r\n                pageSize={this.props.pageSize}\r\n                portionSize={this.props.portionSize}\r\n                usersPage={this.props.usersPage}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\r\n    return {\r\n        usersPage: getUsersSuperSelector(state),\r\n        pageSize: getPageSize(state),\r\n        portionSize: getPortionSize(state),\r\n        totalItemsCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect<mapStateToPropsType, mapDispatchToPropsType, {}, AppStateType>(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        toggleIsFollowingProgress,\r\n        requestUsers: requestUsers\r\n    }),\r\n)\r\n(UsersContainer)\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\ntype PropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout: ()=> void\r\n}\r\n\r\nconst Header: React.FC<PropsType> = ({ isAuth, login, logout}) => {\r\n    return <header className={s.header}>\r\n        <img\r\n            src=\"https://img.icons8.com/color/452/avatar.png\"\r\n            alt=\"\"/>\r\n        <div className={s.loginBlock}>\r\n            {isAuth\r\n\r\n                ? <div>{login} <button onClick={logout}>Logout</button></div>\r\n                : <NavLink to={'/login'}>Login</NavLink>}\r\n        </div>\r\n\r\n    </header>\r\n}\r\n\r\nexport default Header;","import {authAPI} from '../api/api';\r\nimport {Dispatch} from 'redux';\r\nimport {AppStateType} from './redux-store';\r\nimport {ThunkAction} from 'redux-thunk';\r\n\r\n\r\nconst SET_USERS_DATA = 'AUTH/SET-USERS-DATA'\r\nconst SET_ERROR_DATA = 'AUTH/SET-ERROR-DATA'\r\n\r\nexport type InitialStateType = {\r\n    userId: null | string,\r\n    email: null | string,\r\n    login: null | string,\r\n    isAuth: boolean,\r\n    messageError: string\r\n}\r\n\r\nexport type DataType = {\r\n    data: {\r\n        userId: null,\r\n        email: null,\r\n        login: null,\r\n        isAuth: boolean,\r\n    },\r\n}\r\n\r\nexport type LoginParamsType = {\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean,\r\n    captcha?: string,\r\n}\r\n\r\nexport type AuthACTypes =\r\n    ReturnType<typeof setAuthUserDataAC>\r\n    | ReturnType<typeof setMessagesLogin>\r\n\r\n\r\nexport const InitialState: InitialStateType = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    messageError: ''\r\n}\r\n\r\nconst authReducer = (state = InitialState, action: AuthACTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_USERS_DATA: {\r\n\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        }\r\n        case SET_ERROR_DATA: {\r\n            return {\r\n                ...state,\r\n                messageError: action.messageError,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserDataAC = (userId: string, login: string, email: string, isAuth: boolean) => (\r\n    {type: SET_USERS_DATA, payload: {userId, login, email, isAuth}} as const\r\n)\r\n\r\nexport const setMessagesLogin = (messageError: string) => (\r\n    {type: SET_ERROR_DATA, messageError} as const\r\n)\r\n\r\n\r\n// thunks\r\nexport type ThunkType = ThunkAction<void, AppStateType, unknown, AuthACTypes>\r\n\r\n\r\nexport const getAuthUserData = () => async (dispatch: Dispatch<AuthACTypes>) => {\r\n    let res = await authAPI.me()\r\n    if (res.data.resultCode === 0) {\r\n        let {id, login, email} = res.data.data;\r\n        dispatch(setAuthUserDataAC(id, login, email, true))\r\n    }\r\n}\r\n\r\nexport const login = (email: string | null, password: string | null, rememberMe: boolean):ThunkType =>\r\n    async (dispatch) => {\r\n    let res = await authAPI.login(email, password, rememberMe)\r\n    if (res.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n        dispatch(setMessagesLogin(''))\r\n    } else if (res.resultCode === 1) {\r\n        dispatch(setMessagesLogin(res.messages[0]))\r\n    }\r\n\r\n}\r\nexport const logout = (): ThunkType => async (dispatch) => {\r\n    let res = await authAPI.logout()\r\n    if (res.resultCode === 0) {\r\n        dispatch(setAuthUserDataAC('', '', '', false))\r\n        dispatch(setMessagesLogin(''))\r\n    }\r\n}\r\n\r\nexport default authReducer","import React from 'react';\r\nimport Header from './Header';\r\nimport {connect} from 'react-redux';\r\nimport {logout} from '../../Redux/auth-reducer';\r\nimport {AppStateType} from '../../Redux/redux-store';\r\n\r\ntype PropsType = MapDispatchToPropsType & MapStateToPropsType\r\n\r\nclass HeaderContainer extends React.Component<PropsType> {\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean,\r\n    login: string | null\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    logout: () => void\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect<MapStateToPropsType, MapDispatchToPropsType, {}, AppStateType>(mapStateToProps, {logout})(HeaderContainer);","import {AppStateType} from './redux-store';\r\nimport {ThunkAction} from 'redux-thunk';\r\nimport {AuthACTypes, getAuthUserData} from './auth-reducer';\r\n\r\n\r\nconst SET_INITIALIZED = 'SET-INITIALIZED'\r\n\r\n\r\nexport type InitialStateType = {\r\n    initialized: boolean\r\n}\r\n\r\nexport type InitializedSuccessACType = ReturnType<typeof initializedSuccessAC>\r\nexport type AppACTypes = InitializedSuccessACType\r\n\r\n\r\n\r\nexport const InitialState: InitialStateType = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = InitialState, action: AppACTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED: {\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n// actions\r\nexport const initializedSuccessAC = () => (\r\n    {type: SET_INITIALIZED} as const\r\n)\r\n\r\n\r\n// thunks\r\n\r\nexport type ThunkType = ThunkAction<void, AppStateType, unknown, AppACTypes & AuthACTypes>\r\n\r\nexport const initialiseAppTC = () => (dispatch: any) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    Promise.all([promise])\r\n        .then(()=> {\r\n        dispatch(initializedSuccessAC())\r\n    })\r\n\r\n}\r\n\r\n\r\nexport default appReducer","import React, {ComponentType} from 'react';\r\nimport {Preloader} from '../components/common/preloader/Preloader';\r\n\r\n\r\nexport function withSuspence<T>(Component: ComponentType<T>) {\r\n    return (props:any) => {\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    }\r\n}\r\n","import React from 'react';\r\nimport {useFormik} from 'formik';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {AppStateType} from '../../Redux/redux-store';\r\nimport {login} from '../../Redux/auth-reducer';\r\n\r\ntype FormikErrorType = {\r\n    email?: string\r\n    password?: string\r\n    rememberMe?: boolean\r\n}\r\n\r\nexport const LoginForm = () => {\r\n    const dispatch = useDispatch()\r\n    const messageError = useSelector<AppStateType, string>((state) =>state.auth.messageError);\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: '',\r\n            password: '',\r\n            rememberMe: false\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {};\r\n            if (!values.email) {\r\n                errors.email = 'Required';\r\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n                errors.email = 'Invalid email address';\r\n            }\r\n            if (!values.password) {\r\n                errors.password = 'Required';\r\n            } else if (values.password.length < 8) {\r\n                errors.password = 'Must be 8 characters or more';\r\n            }\r\n            return errors;\r\n        },\r\n        onSubmit: values => {\r\n            dispatch(login(values.email, values.password, values.rememberMe))\r\n            formik.resetForm();\r\n        },\r\n    })\r\n\r\n\r\n\r\n    return (\r\n        <form onSubmit={formik.handleSubmit}>\r\n                        <div>\r\n                            <input\r\n                                type=\"email\"\r\n                                placeholder=\"Enter email\"\r\n                                {...formik.getFieldProps('email')}\r\n                            />\r\n                            {formik.touched.email && formik.errors.email &&\r\n                            <div style={{color: 'red'}}>{messageError}{formik.errors.email}</div>}\r\n                        </div>\r\n                        <div>\r\n                            <input\r\n                                type=\"password\"\r\n                                placeholder=\"Password\"\r\n                                {...formik.getFieldProps('password')}\r\n                          />\r\n                            {formik.touched.password && formik.errors.password &&\r\n                            <div style={{color: 'red'}}>{formik.errors.password}</div>}\r\n                            {messageError&&<div style={{color: 'red'}}>{messageError}</div>}\r\n                        </div>\r\n\r\n                    <div>\r\n                        <input\r\n                            type=\"checkbox\"\r\n                            checked={formik.values.rememberMe}\r\n                            {...formik.getFieldProps('rememberMe')}\r\n                        />\r\n                        Remember me\r\n                        <div>\r\n                            <button type=\"submit\">Login</button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {LoginForm} from './LoginForm';\r\nimport {useSelector} from 'react-redux';\r\nimport {Redirect} from 'react-router';\r\nimport {AppStateType} from '../../Redux/redux-store';\r\n\r\n\r\nexport const Login = ()=> {\r\n    const isAuth = useSelector<AppStateType>(state=>state.auth.isAuth)\r\n    console.log('Login', isAuth)\r\n    if(isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n\r\n    return <div>\r\n        <h1>LOGIN</h1>\r\n        <LoginForm />\r\n    </div>\r\n}\r\n","import React from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport {Route} from 'react-router-dom';\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport {connect} from 'react-redux';\nimport {AppStateType} from './Redux/redux-store';\nimport {withRouter} from 'react-router';\nimport {compose} from 'redux';\nimport {initialiseAppTC} from './Redux/app-reducer';\nimport {Preloader} from './components/common/preloader/Preloader';\nimport {withSuspence} from './hoc/withSuspence';\nimport {Login} from './components/login/Login';\n\nconst DialogsContainer = React.lazy(() => import ('./Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import ('./Profile/ProfileContainer'))\n\n\ntype AppPropsType = MapDispatchToPropsType & MapStateToPropsType\n\nclass App extends React.Component<AppPropsType, AppStateType> {\n    componentDidMount() {\n        this.props.initialiseAppTC()\n    }\n\n\n    render() {\n        if (!this.props.initialized) return <Preloader/>\n\n        return (\n            <div className={'app-wrapper'}>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className={'app-wrapper-content'}>\n                    <Route path={'/profile/:userId?'}\n                           render={withSuspence(ProfileContainer)}\n                    />\n                    <Route path={'/dialogs'}\n                           render={withSuspence(DialogsContainer)}\n                    />\n                    <Route path={'/users'}\n                           render={() => <UsersContainer/>}\n                    />\n                    <Route path={'/news'} render={() => <News/>}/>\n                    <Route path={'/music'} render={() => <Music/>}/>\n                    <Route path={'/settings'} render={() => <Settings/>}/>\n                    <Route path={'/login'} render={withSuspence(Login)}/>\n                    {/*<Route path={'*'} render={() => <div>404</div>}/>*/}\n                </div>\n            </div>\n        );\n    }\n}\n\ntype MapStateToPropsType = {\n    initialized: boolean\n}\n\ntype MapDispatchToPropsType = {\n    initialiseAppTC: () => void\n}\n\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => ({\n    initialized: state.app.initialized\n})\n\nexport default compose<React.ComponentType>(\n    withRouter,\n    connect<MapStateToPropsType, MapDispatchToPropsType, {}, AppStateType>(mapStateToProps, {initialiseAppTC}))(App);\n\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport appReducer from './app-reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer\r\n    }\r\n)\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\r\n\r\n\r\n/* const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n const store = createStore(rootReducer,composeEnhancers( applyMiddleware(thunkMiddleware)))*/\r\n\r\n\r\n\r\n\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from 'react-router-dom';\nimport store from './Redux/redux-store';\nimport {Provider} from 'react-redux';\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n\nreportWebVitals();"],"sourceRoot":""}