(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{100:function(t,e,s){"use strict";s.d(e,"a",(function(){return f}));var a=s(2),n=s(27),r=s(23),i=s(24),c=s(26),o=s(25),u=s(0),p=s.n(u),d=s(4),j=s(14),l=s(1),b=["isAuth"],h=function(t){return{isAuth:t.auth.isAuth}};function f(t){var e=function(e){Object(c.a)(u,e);var s=Object(o.a)(u);function u(){return Object(r.a)(this,u),s.apply(this,arguments)}return Object(i.a)(u,[{key:"render",value:function(){var e=this.props,s=e.isAuth,r=Object(n.a)(e,b);return s?Object(l.jsx)(t,Object(a.a)({},r)):Object(l.jsx)(d.a,{to:"/login"})}}]),u}(p.a.Component);return Object(j.b)(h)(e)}},104:function(t,e,s){t.exports={item:"Profile_item__2eU8b",img:"Profile_img__2Uy67"}},105:function(t,e,s){t.exports={item:"ProfileInfo_item__tQbB7",descriptionBlock:"ProfileInfo_descriptionBlock__uG3cG"}},106:function(t,e,s){t.exports={postsBlock:"MyPosts_postsBlock__1w_wY",post:"MyPosts_post__1WmCQ"}},107:function(t,e,s){t.exports={item:"Post_item__24sz1"}},109:function(t,e,s){"use strict";s.r(e);var a=s(2),n=s(23),r=s(24),i=s(26),c=s(25),o=s(0),u=s.n(o),p=s(104),d=s.n(p),j=s(105),l=s.n(j),b=s(29),h=s(1),f=function(t){Object(i.a)(s,t);var e=Object(c.a)(s);function s(){var t;Object(n.a)(this,s);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateUserStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return Object(r.a)(s,[{key:"componentDidUpdate",value:function(t,e,s){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(h.jsx)("div",{children:this.state.editMode?Object(h.jsx)("div",{children:Object(h.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status})}):Object(h.jsx)("div",{children:Object(h.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"----"})})})}}]),s}(u.a.Component),O=s(56),v=function(t){var e=Object(o.useState)(!1),s=Object(O.a)(e,2),a=s[0],n=s[1],r=Object(o.useState)(t.status),i=Object(O.a)(r,2),c=i[0],u=i[1];Object(o.useEffect)((function(){u(t.status)}),[t.status]);return Object(h.jsxs)("div",{children:[!a&&Object(h.jsx)("div",{children:Object(h.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status||"----"})}),a&&Object(h.jsx)("div",{children:Object(h.jsx)("input",{onChange:function(t){u(t.currentTarget.value)},onBlur:function(){n(!1),t.updateUserStatus(c)},autoFocus:!0,value:c})})]})},m=function(t){var e=t.profile,s=t.status,a=t.updateUserStatus;return e?Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:l.a.descriptionBlock,children:[Object(h.jsx)("img",{src:e.photos.large}),Object(h.jsx)(f,{status:s,updateUserStatus:a}),Object(h.jsx)(v,{status:s,updateUserStatus:a}),Object(h.jsx)("div",{children:e.fullName}),Object(h.jsx)("div",{children:e.aboutMe})]})}):Object(h.jsx)(b.a,{})},x=s(44),g=s(106),_=s.n(g),y=s(107),S=s.n(y),k=function(t){return Object(h.jsxs)("div",{className:S.a.item,children:[Object(h.jsx)("img",{src:"https://img2.freepng.ru/20180623/iqh/kisspng-computer-icons-avatar-social-media-blog-font-aweso-avatar-icon-5b2e99c40ce333.6524068515297806760528.jpg"}),Object(h.jsx)("div",{children:Object(h.jsx)("span",{children:t.post.message})})]})},M=s(98),U=function(t){Object(i.a)(s,t);var e=Object(c.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var t=this,e=this.props.profilePage.posts.map((function(t){return Object(h.jsx)(k,{post:t},t.id)}));return Object(h.jsxs)("div",{className:_.a.postsBlock,children:[Object(h.jsx)("h3",{children:"My posts"}),Object(h.jsx)(M.a,{callback:function(e){t.props.addPost(e)}}),Object(h.jsx)("div",{className:_.a.post,children:e})]})}}]),s}(u.a.PureComponent),P=U,w=s(14),C=Object(w.b)((function(t){return{profilePage:t.profilePage}}),(function(t){return{addPost:function(e){t(Object(x.a)(e))}}}))(P),B=function(t){return Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{className:d.a.img,src:"http://user-life.com/uploads/posts/2018-08/1535615328_kak-udalit-avatarku-postavit-foto-sdelat-zagruzit-dobavit-telegramm-skayp-vayber-vatsap-windows-10.gif",alt:"my avatar"}),Object(h.jsx)(m,{profile:t.profile,status:t.status,updateUserStatus:t.updateUserStatus}),Object(h.jsx)(C,{})]})},I=s(4),z=s(21),A=s(100),N=function(t){Object(i.a)(s,t);var e=Object(c.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||null===this.props.authorizedUserId||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return this.props.authorizedUserId?Object(h.jsx)(B,Object(a.a)(Object(a.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus})):Object(h.jsx)(I.a,{to:"/login"})}}]),s}(u.a.Component);e.default=Object(z.c)(Object(w.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:x.c,getUserStatus:x.d,updateUserStatus:x.e}),I.f,A.a)(N)},98:function(t,e,s){"use strict";s.d(e,"a",(function(){return c}));s(0);var a=s(45),n=s(99),r=s.n(n),i=s(1),c=function(t){function e(t){var e;return""===t&&(e="Message is required"),t.length>30&&(e="Max length is 30 symbols "),e}return Object(i.jsx)(a.b,{initialValues:{newMessage:""},onSubmit:function(e){t.callback(e.newMessage)},children:function(t){t.values;var s=t.errors,n=t.touched,c=(t.handleChange,t.handleBlur,t.handleSubmit);t.isSubmitting;return Object(i.jsx)("form",{onSubmit:c,children:Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:Object(i.jsx)(a.a,{name:"newMessage",component:"textarea",placeholder:"Enter your message",validate:e,style:s.newMessage&&n.newMessage&&{border:"2px solid red"}})}),Object(i.jsx)("span",{className:r.a.error,children:s.newMessage}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"submit",disabled:!!s.newMessage,children:"Send"})})]})})}})}},99:function(t,e,s){t.exports={error:"addMessageForm_error__3lgQI"}}}]);
//# sourceMappingURL=3.ea21787b.chunk.js.map